import{n as L,l as ze,r as o,ap as Le,a2 as He,aq as We,b as se,h as k,ag as Ke,a3 as ue,af as me,_ as j,G as ve,ae as de,a4 as ge,ar as Te,e as ke,g as Be,m as Fe,u as Q,$ as Ae,as as Ve,at as Ue,au as Xe,av as be,i as Ge}from"./app-BNvUUmEl.js";import{p as le}from"./pickAttrs-B-O1NeT5.js";import{R as Ye}from"./CloseOutlined-DZW4jfaN.js";import{u as qe}from"./useLocale-DhOjA_vR.js";import{S as Ze}from"./Skeleton-xgPywAPc.js";function he(...e){const t={};return e.forEach(n=>{n&&Object.keys(n).forEach(a=>{n[a]!==void 0&&(t[a]=n[a])})}),t}function pe(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function Ce(e){const{closable:t,closeIcon:n}=e||{};return L.useMemo(()=>{if(!t&&(t===!1||n===!1||n===null))return!1;if(t===void 0&&n===void 0)return null;let a={closeIcon:typeof n!="boolean"&&n!==null?n:void 0};return t&&typeof t=="object"&&(a=Object.assign(Object.assign({},a),t)),a},[t,n])}const Je={};function Qe(e,t,n=Je){const a=Ce(e),r=Ce(t),[l]=qe("global",ze.global),i=typeof a!="boolean"?!!(a!=null&&a.disabled):!1,s=L.useMemo(()=>Object.assign({closeIcon:L.createElement(Ye,null)},n),[n]),u=L.useMemo(()=>a===!1?!1:a?he(s,r,a):r===!1?!1:r?he(s,r):s.closable?s:!1,[a,r,s]);return L.useMemo(()=>{if(u===!1)return[!1,null,i,{}];const{closeIconRender:b}=s,{closeIcon:C}=u;let c=C;const x=le(u,!0);return c!=null&&(b&&(c=b(C)),c=L.isValidElement(c)?L.cloneElement(c,Object.assign({"aria-label":l.close},x)):L.createElement("span",Object.assign({"aria-label":l.close},x),c)),[!0,c,i,x]},[u,s])}function ye(){}const et=o.createContext({add:ye,remove:ye});function tt(e){const t=o.useContext(et),n=o.useRef(null);return Le(r=>{if(r){const l=r;t.add(l),n.current=l}else t.remove(n.current)})}var xe=o.createContext(null),Oe=o.createContext({}),nt=["prefixCls","className","containerRef"],at=function(t){var n=t.prefixCls,a=t.className,r=t.containerRef,l=He(t,nt),i=o.useContext(Oe),s=i.panel,u=We(s,r);return o.createElement("div",se({className:k("".concat(n,"-content"),a),role:"dialog",ref:u},le(t,{aria:!0}),{"aria-modal":"true"},l))};function we(e){return typeof e=="string"&&String(Number(e))===e?(Ke(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var Se={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function ot(e,t){var n,a,r,l=e.prefixCls,i=e.open,s=e.placement,u=e.inline,b=e.push,C=e.forceRender,c=e.autoFocus,x=e.keyboard,d=e.classNames,v=e.rootClassName,p=e.rootStyle,N=e.zIndex,$=e.className,E=e.id,D=e.style,w=e.motion,m=e.width,y=e.height,P=e.children,H=e.mask,M=e.maskClosable,I=e.maskMotion,W=e.maskClassName,_=e.maskStyle,O=e.afterOpenChange,z=e.onClose,K=e.onMouseEnter,ee=e.onMouseOver,te=e.onMouseLeave,G=e.onClick,ne=e.onKeyDown,ae=e.onKeyUp,h=e.styles,T=e.drawerRender,R=o.useRef(),B=o.useRef(),F=o.useRef();o.useImperativeHandle(t,function(){return R.current});var A=function(S){var q=S.keyCode,Z=S.shiftKey;switch(q){case de.TAB:{if(q===de.TAB){if(!Z&&document.activeElement===F.current){var J;(J=B.current)===null||J===void 0||J.focus({preventScroll:!0})}else if(Z&&document.activeElement===B.current){var ce;(ce=F.current)===null||ce===void 0||ce.focus({preventScroll:!0})}}break}case de.ESC:{z&&x&&(S.stopPropagation(),z(S));break}}};o.useEffect(function(){if(i&&c){var f;(f=R.current)===null||f===void 0||f.focus({preventScroll:!0})}},[i]);var V=o.useState(!1),oe=ue(V,2),re=oe[0],Y=oe[1],g=o.useContext(xe),ie;typeof b=="boolean"?ie=b?{}:{distance:0}:ie=b||{};var U=(n=(a=(r=ie)===null||r===void 0?void 0:r.distance)!==null&&a!==void 0?a:g==null?void 0:g.pushDistance)!==null&&n!==void 0?n:180,De=o.useMemo(function(){return{pushDistance:U,push:function(){Y(!0)},pull:function(){Y(!1)}}},[U]);o.useEffect(function(){if(i){var f;g==null||(f=g.push)===null||f===void 0||f.call(g)}else{var S;g==null||(S=g.pull)===null||S===void 0||S.call(g)}},[i]),o.useEffect(function(){return function(){var f;g==null||(f=g.pull)===null||f===void 0||f.call(g)}},[]);var Re=o.createElement(me,se({key:"mask"},I,{visible:H&&i}),function(f,S){var q=f.className,Z=f.style;return o.createElement("div",{className:k("".concat(l,"-mask"),q,d==null?void 0:d.mask,W),style:j(j(j({},Z),_),h==null?void 0:h.mask),onClick:M&&i?z:void 0,ref:S})}),Pe=typeof w=="function"?w(s):w,X={};if(re&&U)switch(s){case"top":X.transform="translateY(".concat(U,"px)");break;case"bottom":X.transform="translateY(".concat(-U,"px)");break;case"left":X.transform="translateX(".concat(U,"px)");break;default:X.transform="translateX(".concat(-U,"px)");break}s==="left"||s==="right"?X.width=we(m):X.height=we(y);var Me={onMouseEnter:K,onMouseOver:ee,onMouseLeave:te,onClick:G,onKeyDown:ne,onKeyUp:ae},_e=o.createElement(me,se({key:"panel"},Pe,{visible:i,forceRender:C,onVisibleChanged:function(S){O==null||O(S)},removeOnLeave:!1,leavedClassName:"".concat(l,"-content-wrapper-hidden")}),function(f,S){var q=f.className,Z=f.style,J=o.createElement(at,se({id:E,containerRef:S,prefixCls:l,className:k($,d==null?void 0:d.content),style:j(j({},D),h==null?void 0:h.content)},le(e,{aria:!0}),Me),P);return o.createElement("div",se({className:k("".concat(l,"-content-wrapper"),d==null?void 0:d.wrapper,q),style:j(j(j({},X),Z),h==null?void 0:h.wrapper)},le(e,{data:!0})),T?T(J):J)}),fe=j({},p);return N&&(fe.zIndex=N),o.createElement(xe.Provider,{value:De},o.createElement("div",{className:k(l,"".concat(l,"-").concat(s),v,ve(ve({},"".concat(l,"-open"),i),"".concat(l,"-inline"),u)),style:fe,tabIndex:-1,ref:R,onKeyDown:A},Re,o.createElement("div",{tabIndex:0,ref:B,style:Se,"aria-hidden":"true","data-sentinel":"start"}),_e,o.createElement("div",{tabIndex:0,ref:F,style:Se,"aria-hidden":"true","data-sentinel":"end"})))}var rt=o.forwardRef(ot),st=function(t){var n=t.open,a=n===void 0?!1:n,r=t.prefixCls,l=r===void 0?"rc-drawer":r,i=t.placement,s=i===void 0?"right":i,u=t.autoFocus,b=u===void 0?!0:u,C=t.keyboard,c=C===void 0?!0:C,x=t.width,d=x===void 0?378:x,v=t.mask,p=v===void 0?!0:v,N=t.maskClosable,$=N===void 0?!0:N,E=t.getContainer,D=t.forceRender,w=t.afterOpenChange,m=t.destroyOnClose,y=t.onMouseEnter,P=t.onMouseOver,H=t.onMouseLeave,M=t.onClick,I=t.onKeyDown,W=t.onKeyUp,_=t.panelRef,O=o.useState(!1),z=ue(O,2),K=z[0],ee=z[1],te=o.useState(!1),G=ue(te,2),ne=G[0],ae=G[1];ge(function(){ae(!0)},[]);var h=ne?a:!1,T=o.useRef(),R=o.useRef();ge(function(){h&&(R.current=document.activeElement)},[h]);var B=function(re){var Y;if(ee(re),w==null||w(re),!re&&R.current&&!((Y=T.current)!==null&&Y!==void 0&&Y.contains(R.current))){var g;(g=R.current)===null||g===void 0||g.focus({preventScroll:!0})}},F=o.useMemo(function(){return{panel:_}},[_]);if(!D&&!K&&!h&&m)return null;var A={onMouseEnter:y,onMouseOver:P,onMouseLeave:H,onClick:M,onKeyDown:I,onKeyUp:W},V=j(j({},t),{},{open:h,prefixCls:l,placement:s,autoFocus:b,keyboard:c,width:d,mask:p,maskClosable:$,inline:E===!1,afterOpenChange:B,ref:T},A);return o.createElement(Oe.Provider,{value:F},o.createElement(Te,{open:h||D||K,autoDestroy:!1,getContainer:E,autoLock:p&&(h||K)},o.createElement(rt,V)))};const Ne=e=>{var t,n;const{prefixCls:a,title:r,footer:l,extra:i,loading:s,onClose:u,headerStyle:b,bodyStyle:C,footerStyle:c,children:x,classNames:d,styles:v}=e,p=ke("drawer"),N=o.useCallback(m=>o.createElement("button",{type:"button",onClick:u,className:`${a}-close`},m),[u]),[$,E]=Qe(pe(e),pe(p),{closable:!0,closeIconRender:N}),D=o.useMemo(()=>{var m,y;return!r&&!$?null:o.createElement("div",{style:Object.assign(Object.assign(Object.assign({},(m=p.styles)===null||m===void 0?void 0:m.header),b),v==null?void 0:v.header),className:k(`${a}-header`,{[`${a}-header-close-only`]:$&&!r&&!i},(y=p.classNames)===null||y===void 0?void 0:y.header,d==null?void 0:d.header)},o.createElement("div",{className:`${a}-header-title`},E,r&&o.createElement("div",{className:`${a}-title`},r)),i&&o.createElement("div",{className:`${a}-extra`},i))},[$,E,i,b,a,r]),w=o.useMemo(()=>{var m,y;if(!l)return null;const P=`${a}-footer`;return o.createElement("div",{className:k(P,(m=p.classNames)===null||m===void 0?void 0:m.footer,d==null?void 0:d.footer),style:Object.assign(Object.assign(Object.assign({},(y=p.styles)===null||y===void 0?void 0:y.footer),c),v==null?void 0:v.footer)},l)},[l,c,a]);return o.createElement(o.Fragment,null,D,o.createElement("div",{className:k(`${a}-body`,d==null?void 0:d.body,(t=p.classNames)===null||t===void 0?void 0:t.body),style:Object.assign(Object.assign(Object.assign({},(n=p.styles)===null||n===void 0?void 0:n.body),C),v==null?void 0:v.body)},s?o.createElement(Ze,{active:!0,title:!1,paragraph:{rows:5},className:`${a}-body-skeleton`}):x),w)},lt=e=>{const t="100%";return{left:`translateX(-${t})`,right:`translateX(${t})`,top:`translateY(-${t})`,bottom:`translateY(${t})`}[e]},$e=(e,t)=>({"&-enter, &-appear":Object.assign(Object.assign({},e),{"&-active":t}),"&-leave":Object.assign(Object.assign({},t),{"&-active":e})}),Ee=(e,t)=>Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${t}`}}},$e({opacity:e},{opacity:1})),it=(e,t)=>[Ee(.7,t),$e({transform:lt(e)},{transform:"none"})],ct=e=>{const{componentCls:t,motionDurationSlow:n}=e;return{[t]:{[`${t}-mask-motion`]:Ee(0,n),[`${t}-panel-motion`]:["left","right","top","bottom"].reduce((a,r)=>Object.assign(Object.assign({},a),{[`&-${r}`]:it(r,n)}),{})}}},dt=e=>{const{borderRadiusSM:t,componentCls:n,zIndexPopup:a,colorBgMask:r,colorBgElevated:l,motionDurationSlow:i,motionDurationMid:s,paddingXS:u,padding:b,paddingLG:C,fontSizeLG:c,lineHeightLG:x,lineWidth:d,lineType:v,colorSplit:p,marginXS:N,colorIcon:$,colorIconHover:E,colorBgTextHover:D,colorBgTextActive:w,colorText:m,fontWeightStrong:y,footerPaddingBlock:P,footerPaddingInline:H,calc:M}=e,I=`${n}-content-wrapper`;return{[n]:{position:"fixed",inset:0,zIndex:a,pointerEvents:"none",color:m,"&-pure":{position:"relative",background:l,display:"flex",flexDirection:"column",[`&${n}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${n}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${n}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${n}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${n}-mask`]:{position:"absolute",inset:0,zIndex:a,background:r,pointerEvents:"auto"},[I]:{position:"absolute",zIndex:a,maxWidth:"100vw",transition:`all ${i}`,"&-hidden":{display:"none"}},[`&-left > ${I}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${I}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${I}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${I}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${n}-content`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:l,pointerEvents:"auto"},[`${n}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${Q(b)} ${Q(C)}`,fontSize:c,lineHeight:x,borderBottom:`${Q(d)} ${v} ${p}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${n}-extra`]:{flex:"none"},[`${n}-close`]:Object.assign({display:"inline-flex",width:M(c).add(u).equal(),height:M(c).add(u).equal(),borderRadius:t,justifyContent:"center",alignItems:"center",marginInlineEnd:N,color:$,fontWeight:y,fontSize:c,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${s}`,textRendering:"auto","&:hover":{color:E,backgroundColor:D,textDecoration:"none"},"&:active":{backgroundColor:w}},Ae(e)),[`${n}-title`]:{flex:1,margin:0,fontWeight:e.fontWeightStrong,fontSize:c,lineHeight:x},[`${n}-body`]:{flex:1,minWidth:0,minHeight:0,padding:C,overflow:"auto",[`${n}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${n}-footer`]:{flexShrink:0,padding:`${Q(P)} ${Q(H)}`,borderTop:`${Q(d)} ${v} ${p}`},"&-rtl":{direction:"rtl"}}}},ut=e=>({zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding}),Ie=Be("Drawer",e=>{const t=Fe(e,{});return[dt(t),ct(t)]},ut);var je=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n};const ft={distance:180},mt=e=>{const{rootClassName:t,width:n,height:a,size:r="default",mask:l=!0,push:i=ft,open:s,afterOpenChange:u,onClose:b,prefixCls:C,getContainer:c,style:x,className:d,visible:v,afterVisibleChange:p,maskStyle:N,drawerStyle:$,contentWrapperStyle:E,destroyOnClose:D,destroyOnHidden:w}=e,m=je(e,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","style","className","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle","destroyOnClose","destroyOnHidden"]),{getPopupContainer:y,getPrefixCls:P,direction:H,className:M,style:I,classNames:W,styles:_}=ke("drawer"),O=P("drawer",C),[z,K,ee]=Ie(O),te=c===void 0&&y?()=>y(document.body):c,G=k({"no-mask":!l,[`${O}-rtl`]:H==="rtl"},t,K,ee),ne=o.useMemo(()=>n??(r==="large"?736:378),[n,r]),ae=o.useMemo(()=>a??(r==="large"?736:378),[a,r]),h={motionName:be(O,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},T=oe=>({motionName:be(O,`panel-motion-${oe}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),R=tt(),[B,F]=Ve("Drawer",m.zIndex),{classNames:A={},styles:V={}}=m;return z(o.createElement(Ue,{form:!0,space:!0},o.createElement(Xe.Provider,{value:F},o.createElement(st,Object.assign({prefixCls:O,onClose:b,maskMotion:h,motion:T},m,{classNames:{mask:k(A.mask,W.mask),content:k(A.content,W.content),wrapper:k(A.wrapper,W.wrapper)},styles:{mask:Object.assign(Object.assign(Object.assign({},V.mask),N),_.mask),content:Object.assign(Object.assign(Object.assign({},V.content),$),_.content),wrapper:Object.assign(Object.assign(Object.assign({},V.wrapper),E),_.wrapper)},open:s??v,mask:l,push:i,width:ne,height:ae,style:Object.assign(Object.assign({},I),x),className:k(M,d),rootClassName:G,getContainer:te,afterOpenChange:u??p,panelRef:R,zIndex:B,destroyOnClose:w??D}),o.createElement(Ne,Object.assign({prefixCls:O},m,{onClose:b}))))))},vt=e=>{const{prefixCls:t,style:n,className:a,placement:r="right"}=e,l=je(e,["prefixCls","style","className","placement"]),{getPrefixCls:i}=o.useContext(Ge),s=i("drawer",t),[u,b,C]=Ie(s),c=k(s,`${s}-pure`,`${s}-${r}`,b,C,a);return u(o.createElement("div",{className:c,style:n},o.createElement(Ne,Object.assign({prefixCls:s},l))))};mt._InternalPanelDoNotUseOrYouWillBeFired=vt;export{mt as D};
