import{r as n,C as v,j as e,d as f,S as w}from"./app-BNvUUmEl.js";import{E as o}from"./Editor-CDggPmT6.js";import"./skin-DY8BMAJN.js";import{I as i}from"./index-CRvW1yVg.js";import{S as m}from"./index-CaKXPVzR.js";import{D as S}from"./index-xjqwY2Xo.js";import{T as u}from"./index-zqShmFR9.js";import"./BaseInput-DZa833Tk.js";import"./TextArea-BZPq0bZ8.js";import"./CloseCircleFilled-12r7ww41.js";import"./useVariants-BWWb-x4p.js";import"./pickAttrs-B-O1NeT5.js";import"./EyeOutlined-DiEETj_p.js";import"./SearchOutlined-CqZ0Ampv.js";import"./useLocale-DhOjA_vR.js";import"./CheckOutlined-UVMpW3zu.js";import"./CloseOutlined-DZW4jfaN.js";import"./DownOutlined-BiWLPvuA.js";const z=n.forwardRef(({onClose:x,clients:h,setParentLoading:c},_)=>{const N=v(),p={project_title:"",project_address:"",client_id:"",project_pricing:"",project_area:"",project_construction_type:"",project_line_items_pricing:"",project_floor_number:"",project_main_scope:"",project_scope_details:"",project_template:"",project_init_link:"",project_final_link:"",project_admin_notes:"",project_notes_estimator:"",notes_private:"",notes:"",budget_total:null,deduction_amount:null,project_due_date:null,project_points:"",project_source:"InSource",project_status:"Pending",preview_status:"active"},[t,d]=n.useState(!1),[s,b]=n.useState(p),a=(l,r)=>{b(j=>({...j,[l]:r}))},g=()=>{d(!0),c==null||c(!0),w.post(N("project.store"),s,{preserveScroll:!0,onSuccess:()=>{b(p),x()},onError:()=>{c==null||c(!1),d(!1)},onFinish:()=>{c==null||c(!1),d(!1)}})};return n.useImperativeHandle(_,()=>({submitForm:g})),e.jsx(e.Fragment,{children:e.jsx("div",{className:"container m-0",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-6",children:[e.jsxs("div",{children:[e.jsx("hr",{className:"mt-2 mb-2"}),e.jsx("h6",{className:"m-0",style:{color:"blue"},children:"Project Title, Client, Address"}),e.jsx("hr",{className:"mt-2 mb-2"}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("label",{className:"me-1",style:{whiteSpace:"nowrap"},htmlFor:"project_title",children:["Project Title:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(i,{placeholder:"Add Project Title",value:s.project_title,onChange:l=>a("project_title",l.target.value),disabled:t})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"project_address",children:"Project Address:"}),e.jsx(o,{disabled:t,init:{height:150,menubar:!1,plugins:"table code lists link",toolbar:"undo redo | formatselect | bold italic | alignleft aligncenter alignright | bullist numlist | link | table | code",skin:!1,content_css:!1},value:s.project_address,onEditorChange:(l,r)=>{a("project_address",l)}})]})]}),e.jsxs("div",{className:"d-flex flex-column mb-3",children:[e.jsxs("label",{className:"mb-1",style:{whiteSpace:"nowrap"},htmlFor:"client_id",children:["Select Client:",e.jsx("hr",{className:"m-0"})]}),e.jsxs("div",{className:"d-flex flex-column",children:[e.jsx(m,{className:"w-100",placeholder:"Select Client",allowClear:!0,showSearch:!0,options:h.map(l=>({label:l.name,value:l.id})),optionFilterProp:"label",value:s.client_id||null,onChange:l=>{const r=h.find(j=>j.id===l);a("client_id",l??null),a("notes",(r==null?void 0:r.notes)??"")},disabled:t}),s.client_id&&e.jsx(o,{disabled:!0,init:{readonly:!0,height:150,menubar:!1,plugins:"table code lists link",toolbar:"undo redo | formatselect | bold italic | alignleft aligncenter alignright | bullist numlist | link | table | code",skin:!1,content_css:!1},value:s.notes,onEditorChange:l=>{a("notes",l)}})]})]}),e.jsxs("div",{children:[e.jsx("hr",{className:"mt-2 mb-2"}),e.jsx("h6",{className:"m-0",style:{color:"blue"},children:"Project Metrics & Configuration:"}),e.jsx("hr",{className:"mt-2 mb-2"}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("label",{className:"me-1",style:{whiteSpace:"nowrap"},htmlFor:"project_pricing",children:["Pricing:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(i,{className:"me-1",placeholder:"Add Project Pricing",value:s.project_pricing,onChange:l=>a("project_pricing",l.target.value),disabled:t}),e.jsxs("label",{className:"me-1",style:{whiteSpace:"nowrap"},htmlFor:"project_area",children:["Area:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(i,{placeholder:"Add Project Area",value:s.project_area,onChange:l=>a("project_area",l.target.value),disabled:t})]}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("label",{htmlFor:"project_construction_type",className:"me-1",style:{whiteSpace:"nowrap"},children:["Construction Type:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(m,{className:"me-1 w-100",placeholder:"Select Construction Type",allowClear:!0,showSearch:!0,options:[{value:"commercial",label:"Commercial"},{value:"residential",label:"Residential"}],optionFilterProp:"label",value:s.project_construction_type||null,onChange:l=>a("project_construction_type",l??null),disabled:t}),e.jsxs("label",{htmlFor:"project_template",className:"me-1",style:{whiteSpace:"nowrap"},children:["Project Template:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(i,{placeholder:"Project Template",value:s.project_template,onChange:l=>a("project_template",l.target.value),disabled:t})]}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("label",{htmlFor:"project_line_items_pricing",className:"me-1",style:{whiteSpace:"nowrap"},children:["Line Items Pricing:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(i,{className:"me-1",placeholder:"Add Project Line Items Pricing",value:s.project_line_items_pricing,onChange:l=>a("project_line_items_pricing",l.target.value),disabled:t}),e.jsxs("label",{htmlFor:"project_floor_number",className:"me-1",style:{whiteSpace:"nowrap"},children:["Floor Number:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(i,{placeholder:"Add Project Floor Number",value:s.project_floor_number,onChange:l=>a("project_floor_number",l.target.value),disabled:t})]})]}),e.jsxs("div",{children:[e.jsx("hr",{className:"mt-2 mb-2"}),e.jsx("h6",{className:"m-0",style:{color:"blue"},children:"Initial & Final Project Links:"}),e.jsx("hr",{className:"mt-2 mb-2"}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("label",{htmlFor:"project_init_link",className:"me-1",style:{whiteSpace:"nowrap"},children:["Initial Link:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(i,{className:"me-1",placeholder:"Project Initial link( By Admin or Supervisor )",value:s.project_init_link,onChange:l=>a("project_init_link",l.target.value),disabled:t}),e.jsxs("label",{htmlFor:"project_final_link",className:"me-1",style:{whiteSpace:"nowrap"},children:["Final Link:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(i,{placeholder:"Project Final Link, When Project Completed",value:s.project_final_link,onChange:l=>a("project_final_link",l.target.value),disabled:t})]})]}),e.jsxs("div",{children:[e.jsx("hr",{className:"mt-2 mb-2"}),e.jsx("h6",{className:"m-0",style:{color:"blue"},children:"Due Date & Points"}),e.jsx("hr",{className:"mt-2 mb-2"}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("label",{htmlFor:"project_due_date",className:"me-1",style:{whiteSpace:"nowrap"},children:["Due Date:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(S,{className:"me-1 w-100",placeholder:"Project Due Date",allowClear:!0,value:s.project_due_date?f(s.project_due_date):null,onChange:(l,r)=>a("project_due_date",r),disabled:t}),e.jsxs("label",{htmlFor:"project_points",className:"me-1",style:{whiteSpace:"nowrap"},children:["Project Points:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(i,{placeholder:"Number Of Points Of The Project",value:s.project_points,onChange:l=>a("project_points",l.target.value),disabled:t})]})]}),e.jsxs("div",{children:[e.jsx("hr",{className:"mt-2 mb-2"}),e.jsx("h6",{className:"m-0",style:{color:"blue"},children:"Budgeting, Status and Visibility:"}),e.jsx("hr",{className:"mt-2 mb-2"}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("label",{htmlFor:"project_init_link",className:"me-1",style:{whiteSpace:"nowrap"},children:["Project Budget:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(u,{className:"me-1 w-100",min:1,placeholder:"Project Budget",value:s.budget_total,onChange:l=>a("budget_total",l??null),disabled:t}),e.jsxs("label",{htmlFor:"project_final_link",className:"me-1",style:{whiteSpace:"nowrap"},children:["Deduction Amount:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(u,{className:"w-100",min:1,placeholder:"Deduction",value:s.deduction_amount,onChange:l=>a("deduction_amount",l??null),disabled:t})]}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("label",{htmlFor:"project_init_link",className:"me-1",style:{whiteSpace:"nowrap"},children:["Final Price:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(i,{className:"me-1",placeholder:"Project Budget",value:s.budget_total-s.deduction_amount,disabled:!0}),e.jsxs("label",{htmlFor:"project_final_link",className:"me-1",style:{whiteSpace:"nowrap"},children:["Project Status:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(m,{className:"me-1 w-100",placeholder:"Select Project Status",allowClear:s.project_status!=="Pending",showSearch:!0,options:[{value:"Planned",label:"Planned"},{value:"Pending",label:"Pending"},{value:"Takeoff On Progress",label:"Takeoff On Progress"},{value:"Pricing On Progress",label:"Pricing On Progress"},{value:"Completed",label:"Completed"},{value:"Hold",label:"Hold"},{value:"Revision",label:"Revision"},{value:"Cancelled",label:"Cancelled"},{value:"Deliver",label:"Deliver"}],optionFilterProp:"label",value:s.project_status||"Pending",onChange:l=>a("project_status",l??"Pending"),disabled:t})]}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("label",{htmlFor:"project_final_link",className:"me-1",style:{whiteSpace:"nowrap"},children:["Preview Status:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(m,{className:"me-1 w-100",placeholder:"Select Project Preview Status",allowClear:s.preview_status!=="active",showSearch:!0,options:[{value:"active",label:"Active"},{value:"draft",label:"Draft"}],optionFilterProp:"label",value:s.preview_status||"active",onChange:l=>a("preview_status",l??"active"),disabled:t}),e.jsxs("label",{htmlFor:"project_final_link",className:"me-1",style:{whiteSpace:"nowrap"},children:["Project Source:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(m,{className:"me-1 w-100",placeholder:"Select Project Source",allowClear:s.project_source!=="active",showSearch:!0,options:[{value:"InSource",label:"In Source"},{value:"OutSource",label:"Out Source"}],optionFilterProp:"label",value:s.project_source||"InSource",onChange:l=>a("project_source",l??"InSource"),disabled:t})]})]})]}),e.jsxs("div",{className:"col-6",children:[e.jsxs("div",{children:[e.jsx("hr",{className:"mt-2 mb-2"}),e.jsx("h6",{className:"m-0",style:{color:"blue"},children:"Main Scope & Scope Details:"}),e.jsx("hr",{className:"mt-2 mb-2"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"project_main_scope",children:"Project Main Scope:"}),e.jsx(o,{disabled:t,init:{height:150,menubar:!1,plugins:"table code lists link",toolbar:"undo redo | formatselect | bold italic | alignleft aligncenter alignright | bullist numlist | link | table | code",skin:!1,content_css:!1},value:s.project_main_scope,onEditorChange:(l,r)=>{a("project_main_scope",l)}})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"project_scope_details",children:"Project Scope Details:"}),e.jsx(o,{disabled:t,init:{height:150,menubar:!1,plugins:"table code lists link",toolbar:"undo redo | formatselect | bold italic | alignleft aligncenter alignright | bullist numlist | link | table | code",skin:!1,content_css:!1},value:s.project_scope_details,onEditorChange:(l,r)=>{a("project_scope_details",l)}})]})]}),e.jsxs("div",{children:[e.jsx("hr",{className:"mt-2 mb-2"}),e.jsx("h6",{className:"m-0",style:{color:"blue"},children:"Admin Or Supervisor, Estimator & Private Notes:"}),e.jsx("hr",{className:"mt-2 mb-2"}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{htmlFor:"project_admin_notes",className:"me-1",style:{whiteSpace:"nowrap"},children:["Admin Or Supervisor Notes:",e.jsx("hr",{className:"m-0"})]}),e.jsx(o,{disabled:t,init:{height:150,menubar:!1,plugins:"table code lists link",toolbar:"undo redo | formatselect | bold italic | alignleft aligncenter alignright | bullist numlist | link | table | code",skin:!1,content_css:!1},value:s.project_admin_notes,onEditorChange:(l,r)=>{a("project_admin_notes",l)}})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{htmlFor:"project_notes_estimator",className:"me-1",style:{whiteSpace:"nowrap"},children:["Estimator Notes:",e.jsx("hr",{className:"m-0"})]}),e.jsx(o,{disabled:t,init:{height:150,menubar:!1,plugins:"table code lists link",toolbar:"undo redo | formatselect | bold italic | alignleft aligncenter alignright | bullist numlist | link | table | code",skin:!1,content_css:!1},value:s.project_notes_estimator,onEditorChange:(l,r)=>{a("project_notes_estimator",l)}})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"notes_private",className:"me-1",style:{whiteSpace:"nowrap"},children:["Private Notes:",e.jsx("hr",{className:"m-0"})]}),e.jsx(o,{disabled:t,init:{height:150,menubar:!1,plugins:"table code lists link",toolbar:"undo redo | formatselect | bold italic | alignleft aligncenter alignright | bullist numlist | link | table | code",skin:!1,content_css:!1},value:s.notes_private,onEditorChange:(l,r)=>{a("notes_private",l)}})]})]})]})]})})})});export{z as default};
