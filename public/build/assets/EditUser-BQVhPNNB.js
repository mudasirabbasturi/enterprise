import{r as d,C as z,J as B,j as e,d as h,S as k}from"./app-BNvUUmEl.js";import{E as _}from"./Editor-CDggPmT6.js";import"./skin-DY8BMAJN.js";import{I as n}from"./index-CRvW1yVg.js";import{S as c}from"./index-CaKXPVzR.js";import{D as b}from"./index-xjqwY2Xo.js";import"./BaseInput-DZa833Tk.js";import"./TextArea-BZPq0bZ8.js";import"./CloseCircleFilled-12r7ww41.js";import"./useVariants-BWWb-x4p.js";import"./pickAttrs-B-O1NeT5.js";import"./EyeOutlined-DiEETj_p.js";import"./SearchOutlined-CqZ0Ampv.js";import"./useLocale-DhOjA_vR.js";import"./CheckOutlined-UVMpW3zu.js";import"./CloseOutlined-DZW4jfaN.js";import"./DownOutlined-BiWLPvuA.js";const{TextArea:w}=n,se=d.forwardRef(({onClose:f,roles:S,branches:y,departments:j,designations:p,setParentLoading:i,data:l},C)=>{var g,v;const F=z(),{auth:D}=B().props,W=((v=(g=D.user)==null?void 0:g.role)==null?void 0:v.name)==="Super Admin",N={id:(l==null?void 0:l.id)||null,name:l.name,email:l.email,phone:l.phone,country:l.country,state:l.state,city:l.city,postal_or_zip_code:l.postal_or_zip_code,permanent_address:l.permanent_address,current_address:l.current_address,picture_path:l.picture_path,dob:l.dob,joining_date:l.joining_date,hiring_date:l.hiring_date,leaving_date:l.leaving_date,notes:l.notes,notes_private:l.notes_private,status:l.status,branch_id:l.branch_id,department_id:l.department_id,designation_id:l.designation_id,role_id:l.role_id},[t,x]=d.useState(!1),[a,u]=d.useState(N),U=a.branch_id?j.filter(s=>s.branch_id===a.branch_id):j,E=a.department_id?p.filter(s=>s.department_id===a.department_id):p,m=(s,r)=>{u(R=>{const o={...R,[s]:r};return s==="branch_id"&&(o.department_id=null,o.designation_id=null),s==="department_id"&&(o.designation_id=null),o})},A=()=>{x(!0),i==null||i(!0),k.put(F("user.update",a.id),a,{preserveScroll:!0,onSuccess:()=>{u(N),f()},onError:()=>{i==null||i(!1),x(!1)},onFinish:()=>{i==null||i(!1),x(!1)}})};return d.useImperativeHandle(C,()=>({submitForm:A})),e.jsx(e.Fragment,{children:e.jsx("div",{className:"container m-0 mb-4",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-6",children:[e.jsxs("div",{children:[e.jsx("hr",{className:"mt-2 mb-2"}),e.jsx("h6",{className:"m-0",style:{color:"blue"},children:"Name \\ Email \\ Password \\ Phone"}),e.jsx("hr",{className:"mt-2 mb-2"}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("label",{className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},htmlFor:"name",children:["Full Name:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"})]}),e.jsx(n,{placeholder:"User Full Name",value:a.name,onChange:s=>m("name",s.target.value),disabled:t})]}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("label",{className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},htmlFor:"email",children:["User Email:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"})]}),e.jsx(n,{className:"me-1",placeholder:"User Email",value:a.email,onChange:s=>m("email",s.target.value),disabled:t}),e.jsxs("label",{className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},htmlFor:"name",children:["Password:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"})]}),e.jsx(n.Password,{placeholder:"User Password",value:a.password,onChange:s=>m("password",s.target.value),disabled:t,autoComplete:"new-password"})]}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("label",{className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},htmlFor:"phone",children:["User Phone:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"})]}),e.jsx(n,{className:"me-1",placeholder:"User Phone",value:a.phone,onChange:s=>m("phone",s.target.value),disabled:t})]})]}),e.jsxs("div",{children:[e.jsx("hr",{className:"mt-2 mb-2"}),e.jsx("h6",{className:"m-0",style:{color:"blue"},children:"Branch \\ Department \\ Designation"}),e.jsx("hr",{className:"mt-2 mb-2"}),e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs("label",{className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},htmlFor:"designation",children:["Branch:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"})]}),e.jsx(c,{className:"me-1 w-100",placeholder:"Select Branch",showSearch:!0,options:y.map(s=>({value:s.id,label:s.name})),optionFilterProp:"label",value:a.branch_id||null,onChange:s=>m("branch_id",s??null),disabled:t})]}),e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs("label",{className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},htmlFor:"department",children:["Department:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"})]}),a.branch_id?e.jsx(c,{className:"me-1 w-100",placeholder:"Select Department",showSearch:!0,options:U.map(s=>({value:s.id,label:s.name})),optionFilterProp:"label",value:a.department_id??null,onChange:s=>m("department_id",s??null),disabled:t}):e.jsx(c,{className:"me-1 w-100",placeholder:"Select Branch First",disabled:!0})]}),e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs("label",{className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},htmlFor:"designation",children:["Designation:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"})]}),a.department_id?e.jsx(c,{className:"me-1 w-100",placeholder:"Select Designation",showSearch:!0,options:E.map(s=>({value:s.id,label:s.name})),optionFilterProp:"label",value:a.designation_id??null,onChange:s=>m("designation_id",s??null),disabled:t}):e.jsx(c,{className:"me-1 w-100",placeholder:"Select Department First",disabled:!0})]})]}),e.jsxs("div",{children:[e.jsx("hr",{className:"mt-2 mb-2"}),e.jsx("h6",{className:"m-0",style:{color:"blue"},children:"Country \\ State \\ City:"}),e.jsx("hr",{className:"mt-2 mb-2"}),e.jsxs("div",{className:"d-flex flex-column mb-3",children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx("div",{children:e.jsxs("label",{className:"me-1",htmlFor:"",style:{whiteSpace:"nowrap",fontWeight:"bold"},children:["Country:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-0 mt-0"})]})}),e.jsx("div",{className:"w-100 me-1",children:e.jsx(n,{className:"me-1",placeholder:"User Country",value:a.country,onChange:s=>m("country",s.target.value),disabled:t})})]}),e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx("div",{children:e.jsxs("label",{className:"me-1",htmlFor:"",style:{whiteSpace:"nowrap",fontWeight:"bold"},children:["State:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-0 mt-0"})]})}),e.jsx("div",{className:"me-1 w-100",children:e.jsx(n,{className:"me-1",placeholder:"User State",value:a.state,onChange:s=>m("state",s.target.value),disabled:t})})]}),e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx("div",{children:e.jsxs("label",{className:"me-1",htmlFor:"",style:{whiteSpace:"nowrap",fontWeight:"bold"},children:["City:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-0 mt-0"})]})}),e.jsx("div",{className:"me-1 w-100",children:e.jsx(n,{className:"me-1",placeholder:"User City",value:a.city,onChange:s=>m("city",s.target.value),disabled:t})})]})]})]}),e.jsxs("div",{children:[e.jsx("hr",{className:"mt-2 mb-2"}),e.jsx("h6",{className:"m-0",style:{color:"blue"},children:"Postal/Zip & Addresses:"}),e.jsx("hr",{className:"mt-2 mb-2"}),e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs("label",{className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},htmlFor:"postal_or_zip_code",children:["Postal/Zip Code:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"})]}),e.jsx(n,{placeholder:"Postal Or Zip Code",value:a.postal_or_zip_code,onChange:s=>m("postal_or_zip_code",s.target.value),disabled:t})]}),e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs("label",{className:"me-1",htmlFor:"permanent_address",style:{whiteSpace:"nowrap",fontWeight:"bold"},children:["Permanent Address:",e.jsx("hr",{className:"m-1 mt-0"}),e.jsx("hr",{className:"m-1 mt-0"}),e.jsx("hr",{className:"m-1 mt-0"}),e.jsx("hr",{className:"m-1 mt-0"}),e.jsx("hr",{className:"m-1 mt-0"})]}),e.jsx(w,{placeholder:"Auto-sizing text area",autoSize:{minRows:2,maxRows:6},value:a.permanent_address,onChange:s=>m("permanent_address",s.target.value),disabled:t})]}),e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs("label",{className:"me-1",htmlFor:"current_address",style:{whiteSpace:"nowrap",fontWeight:"bold"},children:["Current Address:",e.jsx("hr",{className:"m-1 mt-0"}),e.jsx("hr",{className:"m-1 mt-0"}),e.jsx("hr",{className:"m-1 mt-0"}),e.jsx("hr",{className:"m-1 mt-0"}),e.jsx("hr",{className:"m-1 mt-0"})]}),e.jsx(w,{placeholder:"Auto-sizing text area",autoSize:{minRows:2,maxRows:6},value:a.current_address,onChange:s=>m("current_address",s.target.value),disabled:t})]})]})]}),e.jsxs("div",{className:"col-6",children:[e.jsxs("div",{children:[e.jsx("hr",{className:"mt-2 mb-2"}),e.jsx("h6",{className:"m-0",style:{color:"blue"},children:"Notes \\ Private Notes \\ DOB \\ Status:"}),e.jsx("hr",{className:"mt-2 mb-2"}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{htmlFor:"notes",className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},children:["Notes:",e.jsx("hr",{className:"m-0"})]}),e.jsx(_,{disabled:t,init:{height:150,menubar:!1,plugins:"table code lists link",toolbar:"undo redo | formatselect | bold italic | alignleft aligncenter alignright | bullist numlist | link | table | code",skin:!1,content_css:!1},value:a.notes,onEditorChange:(s,r)=>{m("notes",s)}})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{htmlFor:"notes_private",className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},children:["Private Notes:",e.jsx("hr",{className:"m-0"})]}),e.jsx(_,{disabled:t,init:{height:150,menubar:!1,plugins:"table code lists link",toolbar:"undo redo | formatselect | bold italic | alignleft aligncenter alignright | bullist numlist | link | table | code",skin:!1,content_css:!1},value:a.notes_private,onEditorChange:(s,r)=>{m("notes_private",s)}})]}),e.jsx("div",{children:e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("label",{htmlFor:"dob",className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},children:["DOB:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"})]}),e.jsx(b,{className:"me-1 w-100",placeholder:"User Date Of Birth",value:a.dob?h(a.dob):null,onChange:(s,r)=>m("dob",r),disabled:t}),e.jsxs("label",{htmlFor:"project_final_link",className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},children:["User Status:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"})]}),e.jsx(c,{className:"me-1 w-100",placeholder:"Select User Status",allowClear:a.status!=="active",showSearch:!0,options:[{value:"active",label:"Active"},{value:"inactive",label:"In Active"},{value:"suspended",label:"Suspended"}],optionFilterProp:"label",value:a.status||"active",onChange:s=>m("status",s??"active"),disabled:t})]})})]}),e.jsxs("div",{children:[e.jsx("hr",{className:"mt-2 mb-2"}),e.jsx("h6",{className:"m-0",style:{color:"blue"},children:"Joining \\ hiring \\ Leaving Date:"}),e.jsx("hr",{className:"mt-2 mb-2"}),e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs("label",{htmlFor:"dob",className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},children:["Joining Date:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"})]}),e.jsx(b,{className:"me-1 w-100",placeholder:"User Joining Date",value:a.joining_date?h(a.joining_date):null,onChange:(s,r)=>m("joining_date",r),disabled:t}),e.jsxs("label",{htmlFor:"dob",className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},children:["Hiring Date:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"})]}),e.jsx(b,{className:"me-1 w-100",placeholder:"User Hiring Date",value:a.hiring_date?h(a.hiring_date):null,onChange:(s,r)=>m("hiring_date",r),disabled:t})]}),e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs("label",{htmlFor:"dob",className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},children:["Leaving Date:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"})]}),e.jsx(b,{className:"me-1 w-100",placeholder:"User Leaving Date",value:a.leaving_date?h(a.leaving_date):null,onChange:(s,r)=>m("leaving_date",r),disabled:t})]}),e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs("label",{className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},htmlFor:"role",children:["Role:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"})]}),e.jsx(c,{className:"me-1 w-100",placeholder:"Select Role",showSearch:!0,options:S.map(s=>({value:s.id,label:s.name})),optionFilterProp:"label",value:a.role_id||null,onChange:s=>m("role_id",s??null),disabled:!W||t})]})]})]})]})})})});export{se as default};
