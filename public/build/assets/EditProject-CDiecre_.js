import{r as d,C as f,j as e,d as w,S}from"./app-BNvUUmEl.js";import{E as m}from"./Editor-CDggPmT6.js";import"./skin-DY8BMAJN.js";import{I as o}from"./index-CRvW1yVg.js";import{S as n}from"./index-CaKXPVzR.js";import{D as k}from"./index-xjqwY2Xo.js";import{T as _}from"./index-zqShmFR9.js";import"./BaseInput-DZa833Tk.js";import"./TextArea-BZPq0bZ8.js";import"./CloseCircleFilled-12r7ww41.js";import"./useVariants-BWWb-x4p.js";import"./pickAttrs-B-O1NeT5.js";import"./EyeOutlined-DiEETj_p.js";import"./SearchOutlined-CqZ0Ampv.js";import"./useLocale-DhOjA_vR.js";import"./CheckOutlined-UVMpW3zu.js";import"./CloseOutlined-DZW4jfaN.js";import"./DownOutlined-BiWLPvuA.js";const G=d.forwardRef(({project:a,onClose:x,clients:h,setParentLoading:c},N)=>{const v=f(),u={id:a.id,project_title:a.project_title,project_address:a.project_address,client_id:a.client_id,project_pricing:a.project_pricing,project_area:a.project_area,project_construction_type:a.project_construction_type,project_line_items_pricing:a.project_line_items_pricing,project_floor_number:a.project_floor_number,project_main_scope:a.project_main_scope,project_scope_details:a.project_scope_details,project_template:a.project_template,project_init_link:a.project_init_link,project_final_link:a.project_final_link,project_notes_owner_or_supervisor:a.project_notes_owner_or_supervisor,project_notes_estimator:a.project_notes_estimator,notes_private:a.notes_private,notes:a.notes||"",budget_total:a.budget_total||null,deduction_amount:a.deduction_amount||null,project_due_date:a.project_due_date||null,project_points:a.project_points||"",project_source:a.project_source||"InSource",project_status:a.project_status||"Pending",preview_status:a.preview_status||"active"},[r,p]=d.useState(!1),[s,b]=d.useState(u),t=(l,i)=>{b(j=>({...j,[l]:i}))},g=()=>{p(!0),c==null||c(!0),S.put(v("project.update",s.id),s,{preserveScroll:!0,onSuccess:()=>{b(u),x()},onError:()=>{c==null||c(!1),p(!1)},onFinish:()=>{c==null||c(!1),p(!1)}})};return d.useImperativeHandle(N,()=>({submitForm:g})),e.jsx(e.Fragment,{children:e.jsx("div",{className:"container m-0",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-6",children:[e.jsxs("div",{children:[e.jsx("hr",{className:"mt-2 mb-2"}),e.jsx("h6",{className:"m-0",style:{color:"blue"},children:"Project Title, Client, Address"}),e.jsx("hr",{className:"mt-2 mb-2"}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("label",{className:"me-1",style:{whiteSpace:"nowrap"},htmlFor:"project_title",children:["Project Title:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(o,{placeholder:"Add Project Title",value:s.project_title,onChange:l=>t("project_title",l.target.value),disabled:r})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"project_address",children:"Project Address:"}),e.jsx(m,{disabled:r,init:{height:150,menubar:!1,plugins:"table code lists link",toolbar:"undo redo | formatselect | bold italic | alignleft aligncenter alignright | bullist numlist | link | table | code",skin:!1,content_css:!1},value:s.project_address,onEditorChange:(l,i)=>{t("project_address",l)}})]})]}),e.jsxs("div",{className:"d-flex flex-column mb-3",children:[e.jsxs("label",{className:"mb-1",style:{whiteSpace:"nowrap"},htmlFor:"client_id",children:["Select Client:",e.jsx("hr",{className:"m-0"})]}),e.jsxs("div",{className:"d-flex flex-column",children:[e.jsx(n,{className:"w-100",placeholder:"Select Client",allowClear:!0,showSearch:!0,options:h.map(l=>({label:l.name,value:l.id})),optionFilterProp:"label",value:s.client_id||null,onChange:l=>{const i=h.find(j=>j.id===l);t("client_id",l??null),t("notes",(i==null?void 0:i.notes)??"")},disabled:r}),s.client_id&&e.jsx(m,{disabled:!0,init:{readonly:!0,height:150,menubar:!1,plugins:"table code lists link",toolbar:"undo redo | formatselect | bold italic | alignleft aligncenter alignright | bullist numlist | link | table | code",skin:!1,content_css:!1},value:s.notes,onEditorChange:l=>{t("notes",l)}})]})]}),e.jsxs("div",{children:[e.jsx("hr",{className:"mt-2 mb-2"}),e.jsx("h6",{className:"m-0",style:{color:"blue"},children:"Project Metrics & Configuration:"}),e.jsx("hr",{className:"mt-2 mb-2"}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("label",{className:"me-1",style:{whiteSpace:"nowrap"},htmlFor:"project_pricing",children:["Pricing:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(o,{className:"me-1",placeholder:"Add Project Pricing",value:s.project_pricing,onChange:l=>t("project_pricing",l.target.value),disabled:r}),e.jsxs("label",{className:"me-1",style:{whiteSpace:"nowrap"},htmlFor:"project_area",children:["Area:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(o,{placeholder:"Add Project Area",value:s.project_area,onChange:l=>t("project_area",l.target.value),disabled:r})]}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("label",{htmlFor:"project_construction_type",className:"me-1",style:{whiteSpace:"nowrap"},children:["Construction Type:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(n,{className:"me-1 w-100",placeholder:"Select Construction Type",allowClear:!0,showSearch:!0,options:[{value:"commercial",label:"Commercial"},{value:"residential",label:"Residential"}],optionFilterProp:"label",value:s.project_construction_type||null,onChange:l=>t("project_construction_type",l??null),disabled:r}),e.jsxs("label",{htmlFor:"project_template",className:"me-1",style:{whiteSpace:"nowrap"},children:["Project Template:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(o,{placeholder:"Project Template",value:s.project_template,onChange:l=>t("project_template",l.target.value),disabled:r})]}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("label",{htmlFor:"project_line_items_pricing",className:"me-1",style:{whiteSpace:"nowrap"},children:["Line Items Pricing:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(o,{className:"me-1",placeholder:"Add Project Line Items Pricing",value:s.project_line_items_pricing,onChange:l=>t("project_line_items_pricing",l.target.value),disabled:r}),e.jsxs("label",{htmlFor:"project_floor_number",className:"me-1",style:{whiteSpace:"nowrap"},children:["Floor Number:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(o,{placeholder:"Add Project Floor Number",value:s.project_floor_number,onChange:l=>t("project_floor_number",l.target.value),disabled:r})]})]}),e.jsxs("div",{children:[e.jsx("hr",{className:"mt-2 mb-2"}),e.jsx("h6",{className:"m-0",style:{color:"blue"},children:"Initial & Final Project Links:"}),e.jsx("hr",{className:"mt-2 mb-2"}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("label",{htmlFor:"project_init_link",className:"me-1",style:{whiteSpace:"nowrap"},children:["Initial Link:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(o,{className:"me-1",placeholder:"Project Initial link( By Admin or Supervisor )",value:s.project_init_link,onChange:l=>t("project_init_link",l.target.value),disabled:r}),e.jsxs("label",{htmlFor:"project_final_link",className:"me-1",style:{whiteSpace:"nowrap"},children:["Final Link:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(o,{placeholder:"Project Final Link, When Project Completed",value:s.project_final_link,onChange:l=>t("project_final_link",l.target.value),disabled:r})]})]}),e.jsxs("div",{children:[e.jsx("hr",{className:"mt-2 mb-2"}),e.jsx("h6",{className:"m-0",style:{color:"blue"},children:"Due Date & Points"}),e.jsx("hr",{className:"mt-2 mb-2"}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("label",{htmlFor:"project_due_date",className:"me-1",style:{whiteSpace:"nowrap"},children:["Due Date:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(k,{className:"me-1 w-100",placeholder:"Project Due Date",allowClear:!0,value:s.project_due_date?w(s.project_due_date):null,onChange:(l,i)=>t("project_due_date",i),disabled:r}),e.jsxs("label",{htmlFor:"project_points",className:"me-1",style:{whiteSpace:"nowrap"},children:["Project Points:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(o,{placeholder:"Number Of Points Of The Project",value:s.project_points,onChange:l=>t("project_points",l.target.value),disabled:r})]})]}),e.jsxs("div",{children:[e.jsx("hr",{className:"mt-2 mb-2"}),e.jsx("h6",{className:"m-0",style:{color:"blue"},children:"Budgeting, Status and Visibility:"}),e.jsx("hr",{className:"mt-2 mb-2"}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("label",{htmlFor:"project_init_link",className:"me-1",style:{whiteSpace:"nowrap"},children:["Project Budget:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(_,{className:"me-1 w-100",min:1,placeholder:"Project Budget",value:s.budget_total,onChange:l=>t("budget_total",l??null),disabled:r}),e.jsxs("label",{htmlFor:"project_final_link",className:"me-1",style:{whiteSpace:"nowrap"},children:["Deduction Amount:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(_,{className:"w-100",min:1,placeholder:"Deduction",value:s.deduction_amount,onChange:l=>t("deduction_amount",l??null),disabled:r})]}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("label",{htmlFor:"project_init_link",className:"me-1",style:{whiteSpace:"nowrap"},children:["Final Price:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(o,{className:"me-1",placeholder:"Project Budget",value:s.budget_total-s.deduction_amount,disabled:!0}),e.jsxs("label",{htmlFor:"project_final_link",className:"me-1",style:{whiteSpace:"nowrap"},children:["Project Status:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(n,{className:"me-1 w-100",placeholder:"Select Project Status",allowClear:s.project_status!=="Pending",showSearch:!0,options:[{value:"Planned",label:"Planned"},{value:"Pending",label:"Pending"},{value:"Takeoff On Progress",label:"Takeoff On Progress"},{value:"Pricing On Progress",label:"Pricing On Progress"},{value:"Completed",label:"Completed"},{value:"Hold",label:"Hold"},{value:"Revision",label:"Revision"},{value:"Cancelled",label:"Cancelled"},{value:"Deliver",label:"Deliver"}],optionFilterProp:"label",value:s.project_status||"Pending",onChange:l=>t("project_status",l??"Pending"),disabled:r})]}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("label",{htmlFor:"project_final_link",className:"me-1",style:{whiteSpace:"nowrap"},children:["Preview Status:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(n,{className:"me-1 w-100",placeholder:"Select Project Preview Status",allowClear:s.preview_status!=="active",showSearch:!0,options:[{value:"active",label:"Active"},{value:"draft",label:"Draft"}],optionFilterProp:"label",value:s.preview_status||"active",onChange:l=>t("preview_status",l??"active"),disabled:r}),e.jsxs("label",{htmlFor:"project_final_link",className:"me-1",style:{whiteSpace:"nowrap"},children:["Project Source:",e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"}),e.jsx("hr",{className:"mb-1 m-0"})]}),e.jsx(n,{className:"me-1 w-100",placeholder:"Select Project Source",allowClear:s.project_source!=="InSource",showSearch:!0,options:[{value:"InSource",label:"In Source"},{value:"OutSource",label:"Out Source"}],optionFilterProp:"label",value:s.project_source||"InSource",onChange:l=>t("project_source",l??"InSource"),disabled:r})]})]})]}),e.jsxs("div",{className:"col-6",children:[e.jsxs("div",{children:[e.jsx("hr",{className:"mt-2 mb-2"}),e.jsx("h6",{className:"m-0",style:{color:"blue"},children:"Main Scope & Scope Details:"}),e.jsx("hr",{className:"mt-2 mb-2"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"project_main_scope",children:"Project Main Scope:"}),e.jsx(m,{disabled:r,init:{height:150,menubar:!1,plugins:"table code lists link",toolbar:"undo redo | formatselect | bold italic | alignleft aligncenter alignright | bullist numlist | link | table | code",skin:!1,content_css:!1},value:s.project_main_scope,onEditorChange:(l,i)=>{t("project_main_scope",l)}})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"project_scope_details",children:"Project Scope Details:"}),e.jsx(m,{disabled:r,init:{height:150,menubar:!1,plugins:"table code lists link",toolbar:"undo redo | formatselect | bold italic | alignleft aligncenter alignright | bullist numlist | link | table | code",skin:!1,content_css:!1},value:s.project_scope_details,onEditorChange:(l,i)=>{t("project_scope_details",l)}})]})]}),e.jsxs("div",{children:[e.jsx("hr",{className:"mt-2 mb-2"}),e.jsx("h6",{className:"m-0",style:{color:"blue"},children:"Admin Or Supervisor, Estimator & Private Notes:"}),e.jsx("hr",{className:"mt-2 mb-2"}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{htmlFor:"project_notes_owner_or_supervisor",className:"me-1",style:{whiteSpace:"nowrap"},children:["Admin Or Supervisor Notes:",e.jsx("hr",{className:"m-0"})]}),e.jsx(m,{disabled:r,init:{height:150,menubar:!1,plugins:"table code lists link",toolbar:"undo redo | formatselect | bold italic | alignleft aligncenter alignright | bullist numlist | link | table | code",skin:!1,content_css:!1},value:s.project_notes_owner_or_supervisor,onEditorChange:(l,i)=>{t("project_notes_owner_or_supervisor",l)}})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{htmlFor:"project_notes_estimator",className:"me-1",style:{whiteSpace:"nowrap"},children:["Estimator Notes:",e.jsx("hr",{className:"m-0"})]}),e.jsx(m,{disabled:r,init:{height:150,menubar:!1,plugins:"table code lists link",toolbar:"undo redo | formatselect | bold italic | alignleft aligncenter alignright | bullist numlist | link | table | code",skin:!1,content_css:!1},value:s.project_notes_estimator,onEditorChange:(l,i)=>{t("project_notes_estimator",l)}})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"notes_private",className:"me-1",style:{whiteSpace:"nowrap"},children:["Private Notes:",e.jsx("hr",{className:"m-0"})]}),e.jsx(m,{disabled:r,init:{height:150,menubar:!1,plugins:"table code lists link",toolbar:"undo redo | formatselect | bold italic | alignleft aligncenter alignright | bullist numlist | link | table | code",skin:!1,content_css:!1},value:s.notes_private,onEditorChange:(l,i)=>{t("notes_private",l)}})]})]})]})]})})})});export{G as default};
