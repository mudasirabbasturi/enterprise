import{r as l,q as M,B as I,s as w,g as U,i as T,v as $,l as Y,P as G,h as j,e as J,w as K,y as Q,z as Z}from"./app-BNvUUmEl.js";import{R as _}from"./ExclamationCircleFilled-BCKDqmzc.js";import{u as ee}from"./useLocale-DhOjA_vR.js";function h(e){return!!(e!=null&&e.then)}const te=e=>{const{type:n,children:s,prefixCls:t,buttonProps:o,close:f,autoFocus:C,emitEvent:d,isSilent:c,quitOnNullishReturnValue:b,actionFn:v}=e,i=l.useRef(!1),x=l.useRef(null),[P,m]=M(!1),u=(...r)=>{f==null||f.apply(void 0,r)};l.useEffect(()=>{let r=null;return C&&(r=setTimeout(()=>{var a;(a=x.current)===null||a===void 0||a.focus({preventScroll:!0})})),()=>{r&&clearTimeout(r)}},[]);const y=r=>{h(r)&&(m(!0),r.then((...a)=>{m(!1,!0),u.apply(void 0,a),i.current=!1},a=>{if(m(!1,!0),i.current=!1,!(c!=null&&c()))return Promise.reject(a)}))},O=r=>{if(i.current)return;if(i.current=!0,!v){u();return}let a;if(d){if(a=v(r),b&&!h(a)){i.current=!1,u(r);return}}else if(v.length)a=v(f),i.current=!1;else if(a=v(),!h(a)){u();return}y(a)};return l.createElement(I,Object.assign({},w(n),{onClick:O,loading:P,prefixCls:t},o,{ref:x}),s)},ne=e=>{const{componentCls:n,iconCls:s,antCls:t,zIndexPopup:o,colorText:f,colorWarning:C,marginXXS:d,marginXS:c,fontSize:b,fontWeightStrong:v,colorTextHeading:i}=e;return{[n]:{zIndex:o,[`&${t}-popover`]:{fontSize:b},[`${n}-message`]:{marginBottom:c,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${n}-message-icon ${s}`]:{color:C,fontSize:b,lineHeight:1,marginInlineEnd:c},[`${n}-title`]:{fontWeight:v,color:i,"&:only-child":{fontWeight:"normal"}},[`${n}-description`]:{marginTop:d,color:f}},[`${n}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:c}}}}},oe=e=>{const{zIndexPopupBase:n}=e;return{zIndexPopup:n+60}},z=U("Popconfirm",e=>ne(e),oe,{resetStyle:!1});var le=function(e,n){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(s[t[o]]=e[t[o]]);return s};const R=e=>{const{prefixCls:n,okButtonProps:s,cancelButtonProps:t,title:o,description:f,cancelText:C,okText:d,okType:c="primary",icon:b=l.createElement(_,null),showCancel:v=!0,close:i,onConfirm:x,onCancel:P,onPopupClick:m}=e,{getPrefixCls:u}=l.useContext(T),[y]=ee("Popconfirm",Y.Popconfirm),O=$(o),r=$(f);return l.createElement("div",{className:`${n}-inner-content`,onClick:m},l.createElement("div",{className:`${n}-message`},b&&l.createElement("span",{className:`${n}-message-icon`},b),l.createElement("div",{className:`${n}-message-text`},O&&l.createElement("div",{className:`${n}-title`},O),r&&l.createElement("div",{className:`${n}-description`},r))),l.createElement("div",{className:`${n}-buttons`},v&&l.createElement(I,Object.assign({onClick:P,size:"small"},t),C||(y==null?void 0:y.cancelText)),l.createElement(te,{buttonProps:Object.assign(Object.assign({size:"small"},w(c)),s),actionFn:x,close:i,prefixCls:u("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},d||(y==null?void 0:y.okText))))},se=e=>{const{prefixCls:n,placement:s,className:t,style:o}=e,f=le(e,["prefixCls","placement","className","style"]),{getPrefixCls:C}=l.useContext(T),d=C("popconfirm",n),[c]=z(d);return c(l.createElement(G,{placement:s,className:j(d,t),style:o,content:l.createElement(R,Object.assign({prefixCls:d},f))}))};var re=function(e,n){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(s[t[o]]=e[t[o]]);return s};const ae=l.forwardRef((e,n)=>{var s,t;const{prefixCls:o,placement:f="top",trigger:C="click",okType:d="primary",icon:c=l.createElement(_,null),children:b,overlayClassName:v,onOpenChange:i,onVisibleChange:x,overlayStyle:P,styles:m,classNames:u}=e,y=re(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange","overlayStyle","styles","classNames"]),{getPrefixCls:O,className:r,style:a,classNames:E,styles:k}=J("popconfirm"),[V,B]=K(!1,{value:(s=e.open)!==null&&s!==void 0?s:e.visible,defaultValue:(t=e.defaultOpen)!==null&&t!==void 0?t:e.defaultVisible}),N=(p,g)=>{B(p,!0),x==null||x(p),i==null||i(p,g)},W=p=>{N(!1,p)},F=p=>{var g;return(g=e.onConfirm)===null||g===void 0?void 0:g.call(void 0,p)},L=p=>{var g;N(!1,p),(g=e.onCancel)===null||g===void 0||g.call(void 0,p)},q=(p,g)=>{const{disabled:D=!1}=e;D||N(p,g)},S=O("popconfirm",o),H=j(S,r,v,E.root,u==null?void 0:u.root),X=j(E.body,u==null?void 0:u.body),[A]=z(S);return A(l.createElement(Q,Object.assign({},Z(y,["title"]),{trigger:C,placement:f,onOpenChange:q,open:V,ref:n,classNames:{root:H,body:X},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},k.root),a),P),m==null?void 0:m.root),body:Object.assign(Object.assign({},k.body),m==null?void 0:m.body)},content:l.createElement(R,Object.assign({okType:d,icon:c},e,{prefixCls:S,close:W,onConfirm:F,onCancel:L})),"data-popover-inject":!0}),b))}),ie=ae;ie._InternalPanelDoNotUseOrYouWillBeFired=se;export{ie as P};
