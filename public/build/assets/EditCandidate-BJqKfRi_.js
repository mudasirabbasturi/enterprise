import{r as o,C as _,j as e,S as w}from"./app-BNvUUmEl.js";import{C as h}from"./index-BA3-s4Vx.js";import{S as m}from"./index-CaKXPVzR.js";import"./Skeleton-xgPywAPc.js";import"./CloseOutlined-DZW4jfaN.js";import"./useVariants-BWWb-x4p.js";import"./pickAttrs-B-O1NeT5.js";import"./useLocale-DhOjA_vR.js";import"./CheckOutlined-UVMpW3zu.js";import"./CloseCircleFilled-12r7ww41.js";import"./DownOutlined-BiWLPvuA.js";import"./SearchOutlined-CqZ0Ampv.js";const R=o.forwardRef(({data:l,onClose:b,setParentLoading:t},j)=>{var f,x;const S=_(),a=(x=(f=l.media)==null?void 0:f.filter(i=>i.category==="cv"))==null?void 0:x.sort((i,r)=>new Date(r.created_at)-new Date(i.created_at))[0],c={id:l.id,status:l.status,job_letter:l.job_letter},[d,n]=o.useState(!1),[s,p]=o.useState(c),u=(i,r)=>{p(v=>({...v,[i]:r}))},y=()=>{n(!0),t==null||t(!0),w.put(S("job_letter.stats",s.id),s,{preserveScroll:!0,onSuccess:()=>{p(c),b()},onError:()=>{t==null||t(!1),n(!1)},onFinish:()=>{t==null||t(!1),n(!1)}})};return o.useImperativeHandle(j,()=>({submitForm:y})),e.jsx(e.Fragment,{children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6 col-12",children:e.jsx(h,{title:"Job Application Detail:",variant:"borderless",style:{width:"auto"},children:e.jsxs("ul",{style:{listStyle:"circle"},children:[e.jsxs("li",{style:{fontStyle:"italic"},children:[e.jsxs("span",{style:{fontSize:"15px",fontWeight:"bold",fontStyle:"italic",color:"#141010dd"},children:["Name:"," "]}),l.name]}),e.jsxs("li",{style:{fontStyle:"italic"},children:[e.jsxs("span",{style:{fontSize:"15px",fontWeight:"bold",fontStyle:"italic",color:"#141010dd"},children:["Email:"," "]}),l.email]}),e.jsxs("li",{style:{fontStyle:"italic"},children:[e.jsxs("span",{style:{fontSize:"15px",fontWeight:"bold",fontStyle:"italic",color:"#141010dd"},children:["Phone:"," "]}),l.phone]}),e.jsxs("li",{style:{fontStyle:"italic"},children:[e.jsxs("span",{style:{fontSize:"15px",fontWeight:"bold",fontStyle:"italic",color:"#141010dd"},children:["Position Applied:"," "]}),l.position_applied]}),e.jsxs("li",{children:[e.jsxs("span",{style:{fontSize:"15px",fontWeight:"bold",fontStyle:"italic",color:"#141010dd",textDecoration:"underline"},children:["Application Status:"," "]}),e.jsx("span",{style:{fontStyle:"italic",textTransform:"capitalize",fontSize:"16px",marginLeft:"10px",color:"#e28b09dd"},children:l.status})]}),e.jsxs("li",{children:[e.jsxs("span",{style:{fontSize:"15px",fontWeight:"bold",fontStyle:"italic",color:"#141010dd",textDecoration:"underline"},children:["Job Letter Status:"," "]}),e.jsx("span",{style:{fontStyle:"italic",textTransform:"capitalize",fontSize:"16px",marginLeft:"10px",color:"#e28b09dd"},children:l.job_letter})]}),e.jsxs("li",{children:[e.jsxs("span",{style:{fontSize:"15px",fontWeight:"bold",fontStyle:"italic",color:"#141010dd",textDecoration:"underline"},children:["Job Letter Issue Date"," "]}),e.jsx("span",{style:{fontStyle:"italic",textTransform:"capitalize",fontSize:"16px",marginLeft:"10px",color:"#e28b09dd"},children:l.issue_date?l.issue_date:"Not Issued Yet Now!."})]}),e.jsxs("li",{style:{fontStyle:"italic"},children:[e.jsxs("span",{style:{fontSize:"15px",fontWeight:"bold",fontStyle:"italic",color:"#141010dd"},children:["CV:"," "]}),a?e.jsx("a",{href:a.file_path,target:"_blank",rel:"noopener noreferrer",style:{color:"#1a73e8",textDecoration:"underline"},children:"Download CV"}):"No CV availabel"]}),e.jsx("hr",{className:"mb-1 mt-1"}),e.jsxs("li",{children:["Cover Letter:",e.jsx("hr",{className:"mb-1 mt-1"}),l.cover_letters?l.cover_letters:"Not Added."]})]})})}),e.jsx("div",{className:"col-md-6 col-12",children:e.jsxs(h,{title:"Application Form Status",variant:"borderless",style:{width:"auto"},children:[e.jsxs("div",{className:"w-100",children:[e.jsx("label",{className:"w-100",htmlFor:"application_status",children:"Application Status"}),e.jsx(m,{className:"w-100",optionFilterProp:"label",showSearch:!0,options:[{value:"pending",label:"Pending"},{value:"under_review",label:"Under Review"},{value:"on_hold",label:"On Hold"},{value:"active",label:"Active"},{value:"accepted",label:"Accepted"},{value:"declined",label:"Declined"},{value:"draft",label:"Draft"},{value:"future_consideration",label:"Future Consideration"}],value:s.status||"pending",onChange:i=>u("status",i??"pending"),disabled:d})]}),e.jsxs("div",{className:"mt-2 mb-2",children:[e.jsx("label",{className:"w-100",htmlFor:"job_letter_status",children:"Job Letter Status"}),e.jsx(m,{className:"w-100",optionFilterProp:"label",showSearch:!0,options:[{value:"draft",label:"Draft"},{value:"sent",label:"Sent"},{value:"accepted",label:"Accepted"},{value:"declined",label:"Decline"},{value:"pending",label:"Pending"}],value:s.job_letter||"pending",onChange:i=>u("job_letter",i??"pending"),disabled:d})]})]})})]})})})});export{R as default};
