import{r as i,C as S,j as e,d as w,S as N}from"./app-BNvUUmEl.js";import{E as y}from"./Editor-CDggPmT6.js";import"./skin-DY8BMAJN.js";import{S as E}from"./index-CaKXPVzR.js";import{T as F}from"./index-zqShmFR9.js";import{D as R}from"./index-xjqwY2Xo.js";import{I as m}from"./index-CRvW1yVg.js";import"./pickAttrs-B-O1NeT5.js";import"./useVariants-BWWb-x4p.js";import"./useLocale-DhOjA_vR.js";import"./CheckOutlined-UVMpW3zu.js";import"./CloseCircleFilled-12r7ww41.js";import"./CloseOutlined-DZW4jfaN.js";import"./DownOutlined-BiWLPvuA.js";import"./SearchOutlined-CqZ0Ampv.js";import"./BaseInput-DZa833Tk.js";import"./TextArea-BZPq0bZ8.js";import"./EyeOutlined-DiEETj_p.js";const W=i.forwardRef(({clients:d,onClose:p,setParentLoading:t,field:l,value:v,id:n},b)=>{const j=S(),[r,c]=i.useState(!1),[a,o]=i.useState(v),_=()=>{c(!0),t==null||t(!0);const u={id:n,field:l,[l]:a};N.put(j("project.column.update",n),u,{preserveScroll:!0,onSuccess:()=>p(),onError:()=>{t==null||t(!1),c(!1)},onFinish:()=>{t==null||t(!1),c(!1)}})};return i.useImperativeHandle(b,()=>({submitForm:_})),e.jsx("div",{className:"container ",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 col-md-2"}),e.jsxs("div",{className:"col-12 col-md-8",children:[e.jsxs("h6",{className:"m-0",style:{color:"blue",textTransform:"capitalize"},children:[e.jsx("hr",{className:"mt-2 mb-2"}),"Edit: ",l.replace(/_/g," "),e.jsx("hr",{className:"mt-2 mb-2"})]}),(()=>{const u=["project_address","project_main_scope","project_scope_details","project_admin_notes","project_notes_estimator","notes_private"],x=["client_id","project_construction_type","project_status","project_source","preview_status"],h=["budget_total","deduction_amount","project_points"],f=[],g=["project_due_date"];return u.includes(l)?e.jsx("div",{style:{width:"100%"},children:e.jsx(y,{value:a||"",onEditorChange:o,disabled:r,init:{height:300,menubar:!1,plugins:"table code lists link",toolbar:"undo redo | formatselect | bold italic | alignleft aligncenter alignright | bullist numlist | link | table | code",skin:!1,content_css:!1}})}):x.includes(l)?e.jsx(E,{style:{width:"100%"},value:a,onChange:o,disabled:r,optionFilterProp:"label",options:l==="client_id"?d.map(s=>({value:s.id,label:s.title})):l==="project_construction_type"?[{value:"commercial",label:"Commercial"},{value:"residential",label:"Residential"}]:l==="project_status"?[{value:"Planned",label:"Planned"},{value:"Pending",label:"Pending"},{value:"Takeoff On Progress",label:"Takeoff On Progress"},{value:"Pricing On Progress",label:"Pricing On Progress"},{value:"Completed",label:"Completed"},{value:"Hold",label:"Hold"},{value:"Revision",label:"Revision"},{value:"Cancelled",label:"Cancelled"},{value:"Deliver",label:"Deliver"}]:l==="preview_status"?[{value:"active",label:"Active"},{value:"draft",label:"Draft"}]:l==="project_source"?[{value:"InSource",label:"In Source"},{value:"OutSource",label:"Out Source"}]:[]}):h.includes(l)?e.jsx(F,{style:{width:"100%"},value:a,onChange:o,disabled:r,formatter:s=>`$ ${s}`.replace(/\B(?=(\d{3})+(?!\d))/g,",")}):g.includes(l)?e.jsx(R,{style:{width:"100%"},value:a?w(a):null,onChange:(s,C)=>o(C),disabled:r}):f.includes(l)?e.jsx(m.TextArea,{autoSize:{minRows:3,maxRows:6},value:a||"",onChange:s=>o(s.target.value),disabled:r}):e.jsx(m,{value:a||"",onChange:s=>o(s.target.value),disabled:r,className:"flex-grow-1"})})()]}),e.jsx("div",{className:"col-12 col-md-2"})]})})});export{W as default};
