import{r as o,C as W,j as e,d,S as U}from"./app-BNvUUmEl.js";import{E as u}from"./Editor-CDggPmT6.js";import"./skin-DY8BMAJN.js";import{I as i}from"./index-CRvW1yVg.js";import{S as n}from"./index-CaKXPVzR.js";import{D as h}from"./index-xjqwY2Xo.js";import"./BaseInput-DZa833Tk.js";import"./TextArea-BZPq0bZ8.js";import"./CloseCircleFilled-12r7ww41.js";import"./useVariants-BWWb-x4p.js";import"./pickAttrs-B-O1NeT5.js";import"./EyeOutlined-DiEETj_p.js";import"./SearchOutlined-CqZ0Ampv.js";import"./useLocale-DhOjA_vR.js";import"./CheckOutlined-UVMpW3zu.js";import"./CloseOutlined-DZW4jfaN.js";import"./DownOutlined-BiWLPvuA.js";const{TextArea:g}=i,M=o.forwardRef(({onClose:v,roles:w,branches:f,departments:x,designations:j,setParentLoading:r},_)=>{const C=W(),p={name:"",email:"",password:"",phone:"",country:"",state:"",city:"",postal_or_zip_code:"",permanent_address:"",current_address:"",picture_path:"",dob:"",joining_date:"",hiring_date:"",leaving_date:"",notes:"",notes_private:"",status:"active",branch_id:"",department_id:"",designation_id:"",role_id:""},[l,b]=o.useState(!1),[a,N]=o.useState(p),S=a.branch_id?x.filter(s=>s.branch_id===a.branch_id):x,y=a.department_id?j.filter(s=>s.department_id===a.department_id):j,t=(s,m)=>{N(D=>{const c={...D,[s]:m};return s==="branch_id"&&(c.department_id=null,c.designation_id=null),s==="department_id"&&(c.designation_id=null),c})},F=()=>{b(!0),r==null||r(!0),U.post(C("user.store"),a,{preserveScroll:!0,onSuccess:()=>{N(p),v()},onError:()=>{r==null||r(!1),b(!1)},onFinish:()=>{r==null||r(!1),b(!1)}})};return o.useImperativeHandle(_,()=>({submitForm:F})),e.jsx(e.Fragment,{children:e.jsx("div",{className:"container m-0 mb-4",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-6",children:[e.jsxs("div",{children:[e.jsx("hr",{className:"mt-2 mb-2"}),e.jsx("h6",{className:"m-0",style:{color:"blue"},children:"Name \\ Email \\ Password \\ Phone"}),e.jsx("hr",{className:"mt-2 mb-2"}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("label",{className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},htmlFor:"name",children:["Full Name:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"})]}),e.jsx(i,{placeholder:"User Full Name",allowClear:!0,value:a.name,onChange:s=>t("name",s.target.value),disabled:l})]}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("label",{className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},htmlFor:"email",children:["User Email:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"})]}),e.jsx(i,{className:"me-1",placeholder:"User Email",allowClear:!0,value:a.email,onChange:s=>t("email",s.target.value),disabled:l}),e.jsxs("label",{className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},htmlFor:"name",children:["Password:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"})]}),e.jsx(i.Password,{placeholder:"User Password",allowClear:!0,value:a.password,onChange:s=>t("password",s.target.value),disabled:l,autoComplete:"new-password"})]}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("label",{className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},htmlFor:"phone",children:["User Phone:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"})]}),e.jsx(i,{className:"me-1",placeholder:"User Phone",allowClear:!0,value:a.phone,onChange:s=>t("phone",s.target.value),disabled:l})]})]}),e.jsxs("div",{children:[e.jsx("hr",{className:"mt-2 mb-2"}),e.jsx("h6",{className:"m-0",style:{color:"blue"},children:"Branch \\ Department \\ Designation"}),e.jsx("hr",{className:"mt-2 mb-2"}),e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs("label",{className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},htmlFor:"designation",children:["Branch:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"})]}),e.jsx(n,{className:"me-1 w-100",placeholder:"Select Branch",allowClear:!0,showSearch:!0,options:f.map(s=>({value:s.id,label:s.name})),optionFilterProp:"label",value:a.branch_id||null,onChange:s=>t("branch_id",s??null),disabled:l})]}),e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs("label",{className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},htmlFor:"department",children:["Department:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"})]}),a.branch_id?e.jsx(n,{className:"me-1 w-100",placeholder:"Select Department",allowClear:!0,showSearch:!0,options:S.map(s=>({value:s.id,label:s.name})),optionFilterProp:"label",value:a.department_id??null,onChange:s=>t("department_id",s??null),disabled:l}):e.jsx(n,{className:"me-1 w-100",placeholder:"Select Branch First",disabled:!0})]}),e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs("label",{className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},htmlFor:"designation",children:["Designation:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"})]}),a.department_id?e.jsx(n,{className:"me-1 w-100",placeholder:"Select Designation",allowClear:!0,showSearch:!0,options:y.map(s=>({value:s.id,label:s.name})),optionFilterProp:"label",value:a.designation_id??null,onChange:s=>t("designation_id",s??null),disabled:l}):e.jsx(n,{className:"me-1 w-100",placeholder:"Select Department First",disabled:!0})]})]}),e.jsxs("div",{children:[e.jsx("hr",{className:"mt-2 mb-2"}),e.jsx("h6",{className:"m-0",style:{color:"blue"},children:"Country \\ State \\ City:"}),e.jsx("hr",{className:"mt-2 mb-2"}),e.jsxs("div",{className:"d-flex flex-column mb-3",children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx("div",{children:e.jsxs("label",{className:"me-1",htmlFor:"",style:{whiteSpace:"nowrap",fontWeight:"bold"},children:["Country:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-0 mt-0"})]})}),e.jsx("div",{className:"w-100 me-1",children:e.jsx(i,{className:"me-1",placeholder:"User Country",allowClear:!0,value:a.country,onChange:s=>t("country",s.target.value),disabled:l})})]}),e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx("div",{children:e.jsxs("label",{className:"me-1",htmlFor:"",style:{whiteSpace:"nowrap",fontWeight:"bold"},children:["State:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-0 mt-0"})]})}),e.jsx("div",{className:"me-1 w-100",children:e.jsx(i,{className:"me-1",placeholder:"User State",allowClear:!0,value:a.state,onChange:s=>t("state",s.target.value),disabled:l})})]}),e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx("div",{children:e.jsxs("label",{className:"me-1",htmlFor:"",style:{whiteSpace:"nowrap",fontWeight:"bold"},children:["City:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-0 mt-0"})]})}),e.jsx("div",{className:"me-1 w-100",children:e.jsx(i,{className:"me-1",placeholder:"User City",allowClear:!0,value:a.city,onChange:s=>t("city",s.target.value),disabled:l})})]})]})]}),e.jsxs("div",{children:[e.jsx("hr",{className:"mt-2 mb-2"}),e.jsx("h6",{className:"m-0",style:{color:"blue"},children:"Postal/Zip & Addresses:"}),e.jsx("hr",{className:"mt-2 mb-2"}),e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs("label",{className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},htmlFor:"postal_or_zip_code",children:["Postal/Zip Code:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"})]}),e.jsx(i,{placeholder:"Postal Or Zip Code",allowClear:!0,value:a.postal_or_zip_code,onChange:s=>t("postal_or_zip_code",s.target.value),disabled:l})]}),e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs("label",{className:"me-1",htmlFor:"permanent_address",style:{whiteSpace:"nowrap",fontWeight:"bold"},children:["Permanent Address:",e.jsx("hr",{className:"m-1 mt-0"}),e.jsx("hr",{className:"m-1 mt-0"}),e.jsx("hr",{className:"m-1 mt-0"}),e.jsx("hr",{className:"m-1 mt-0"}),e.jsx("hr",{className:"m-1 mt-0"})]}),e.jsx(g,{placeholder:"Auto-sizing text area",allowClear:!0,autoSize:{minRows:2,maxRows:6},value:a.permanent_address,onChange:s=>t("permanent_address",s.target.value),disabled:l})]}),e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs("label",{className:"me-1",htmlFor:"current_address",style:{whiteSpace:"nowrap",fontWeight:"bold"},children:["Current Address:",e.jsx("hr",{className:"m-1 mt-0"}),e.jsx("hr",{className:"m-1 mt-0"}),e.jsx("hr",{className:"m-1 mt-0"}),e.jsx("hr",{className:"m-1 mt-0"}),e.jsx("hr",{className:"m-1 mt-0"})]}),e.jsx(g,{placeholder:"Auto-sizing text area",allowClear:!0,autoSize:{minRows:2,maxRows:6},value:a.current_address,onChange:s=>t("current_address",s.target.value),disabled:l})]})]})]}),e.jsxs("div",{className:"col-6",children:[e.jsxs("div",{children:[e.jsx("hr",{className:"mt-2 mb-2"}),e.jsx("h6",{className:"m-0",style:{color:"blue"},children:"Notes \\ Private Notes \\ DOB \\ Status:"}),e.jsx("hr",{className:"mt-2 mb-2"}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{htmlFor:"notes",className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},children:["Notes:",e.jsx("hr",{className:"m-0"})]}),e.jsx(u,{disabled:l,init:{height:150,menubar:!1,plugins:"table code lists link",toolbar:"undo redo | formatselect | bold italic | alignleft aligncenter alignright | bullist numlist | link | table | code",skin:!1,content_css:!1},value:a.notes,onEditorChange:(s,m)=>{t("notes",s)}})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{htmlFor:"notes_private",className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},children:["Private Notes:",e.jsx("hr",{className:"m-0"})]}),e.jsx(u,{disabled:l,init:{height:150,menubar:!1,plugins:"table code lists link",toolbar:"undo redo | formatselect | bold italic | alignleft aligncenter alignright | bullist numlist | link | table | code",skin:!1,content_css:!1},value:a.notes_private,onEditorChange:(s,m)=>{t("notes_private",s)}})]}),e.jsx("div",{children:e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsxs("label",{htmlFor:"dob",className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},children:["DOB:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"})]}),e.jsx(h,{className:"me-1 w-100",placeholder:"User Date Of Birth",allowClear:!0,value:a.dob?d(a.dob):null,onChange:(s,m)=>t("dob",m),disabled:l}),e.jsxs("label",{htmlFor:"project_final_link",className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},children:["User Status:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"})]}),e.jsx(n,{className:"me-1 w-100",placeholder:"Select User Status",allowClear:a.status!=="active",showSearch:!0,options:[{value:"active",label:"Active"},{value:"inactive",label:"In Active"},{value:"suspended",label:"Suspended"}],optionFilterProp:"label",value:a.status||"active",onChange:s=>t("status",s??"active"),disabled:l})]})})]}),e.jsxs("div",{children:[e.jsx("hr",{className:"mt-2 mb-2"}),e.jsx("h6",{className:"m-0",style:{color:"blue"},children:"Joining \\ hiring \\ Leaving Date:"}),e.jsx("hr",{className:"mt-2 mb-2"}),e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs("label",{htmlFor:"dob",className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},children:["Joining Date:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"})]}),e.jsx(h,{className:"me-1 w-100",placeholder:"User Joining Date",allowClear:!0,value:a.joining_date?d(a.joining_date):null,onChange:(s,m)=>t("joining_date",m),disabled:l}),e.jsxs("label",{htmlFor:"dob",className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},children:["Hiring Date:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"})]}),e.jsx(h,{className:"me-1 w-100",placeholder:"User Hiring Date",allowClear:!0,value:a.hiring_date?d(a.hiring_date):null,onChange:(s,m)=>t("hiring_date",m),disabled:l})]}),e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs("label",{htmlFor:"dob",className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},children:["Leaving Date:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"})]}),e.jsx(h,{className:"me-1 w-100",placeholder:"User Leaving Date",allowClear:!0,value:a.leaving_date?d(a.leaving_date):null,onChange:(s,m)=>t("leaving_date",m),disabled:l})]}),e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs("label",{className:"me-1",style:{whiteSpace:"nowrap",fontWeight:"bold"},htmlFor:"role",children:["Role:",e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"}),e.jsx("hr",{className:"mb-1 mt-0"})]}),e.jsx(n,{className:"me-1 w-100",placeholder:"Select Role",allowClear:!0,showSearch:!0,options:w.map(s=>({value:s.id,label:s.name})),optionFilterProp:"label",value:a.role_id||null,onChange:s=>t("role_id",s??null),disabled:l})]})]})]})]})})})});export{M as default};
