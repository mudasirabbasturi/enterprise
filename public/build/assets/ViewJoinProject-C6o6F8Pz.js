import{C as h,j as e,A as o,T as x}from"./app-BNvUUmEl.js";import{C as j}from"./Collapse-DNOFyZYK.js";import"./pickAttrs-B-O1NeT5.js";const g=({project:d})=>{h();const n=d.project_team_members||[];return e.jsx(e.Fragment,{children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-8 col-12",children:[e.jsx("hr",{className:"mb-0 mt-0"}),e.jsx("div",{className:"mt-1 mb-1",children:e.jsx("div",{className:"d-flex bg-light p-2 rounded",children:e.jsxs("h6",{style:{textDecoration:"underline"},className:"me-2 mb-0",children:["Project Team Member: ",e.jsx(o.Group,{children:n.map((s,t)=>{var l,i,a,r,c;return e.jsx(x,{title:((l=s.user)==null?void 0:l.name)||"N/A",placement:"top",children:(r=(a=(i=s.user)==null?void 0:i.media)==null?void 0:a[0])!=null&&r.file_path?e.jsx(o,{style:{marginLeft:t>0?1:0},src:`/storage/${s.user.media[0].file_path}`,alt:s.user.name}):e.jsx(o,{style:{backgroundColor:"#1890ff",marginLeft:t>0?1:0},children:(c=s.user)!=null&&c.name?s.user.name.split(" ").map(m=>m[0]).join(""):"U"})},t)})})]})})}),e.jsx("hr",{className:"mb-0 mt-0"}),e.jsx(j,{className:"mb-3 mt-3",items:[{key:"1",label:e.jsx(e.Fragment,{children:e.jsx("h6",{className:"mb-0",style:{color:"#1890ff"},children:"Joined Member, Steps & Details:"})}),children:e.jsxs(e.Fragment,{children:[e.jsx("ul",{style:{listStyleType:"circle"},children:n.map((s,t)=>{var a;const l=((a=s.user)==null?void 0:a.name)||"Unknown",i=s.steps||[];return e.jsxs(e.Fragment,{children:[e.jsxs("li",{children:[e.jsx("strong",{children:l}),e.jsx("li",{style:{fontWeight:"600",textDecoration:"underline",listStyleType:"none"},children:"Project Steps:"}),e.jsx("ul",{style:{listStyleType:"square",paddingLeft:20},children:Array.isArray(i)&&i.length>0?i.map((r,c)=>e.jsx("li",{children:r},c)):e.jsx("li",{children:"No steps"})}),e.jsx("li",{style:{fontWeight:"600",textDecoration:"underline",listStyleType:"none"},children:"More Details:"}),e.jsxs("ul",{style:{listStyleType:"square",paddingLeft:20},children:[e.jsxs("li",{children:["Started At:"," ",s.started_at?new Date(s.started_at).toLocaleDateString():"—"]}),e.jsxs("li",{children:["Completed At:"," ",s.completed_at?new Date(s.completed_at).toLocaleDateString():"—"]}),e.jsxs("li",{children:["Duration:"," ",s.completed_at&&s.started_at?`${Math.round((new Date(s.completed_at)-new Date(s.started_at))/(1e3*60*60*24))} days`:"Not completed yet"]}),e.jsxs("li",{children:["Status: ",s.status??"—"]}),e.jsxs("li",{children:["Points Gained: ",s.points_gain??"—"]}),e.jsxs("li",{children:["Notes: ",s.notes??"—"]})]})]},t),e.jsx("hr",{})]})})}),e.jsx("hr",{}),e.jsxs("li",{children:["Details: ? ",e.jsx("br",{}),"Place holder ....."]})]})}],size:"small",defaultActiveKey:["1"]})]}),e.jsxs("div",{className:"col-md-4 col-12",children:[e.jsx("hr",{className:"mb-2 mt-0"}),e.jsx("div",{className:"mt-1 mb-1",children:e.jsx("div",{className:"d-flex bg-light p-2 rounded",children:e.jsx("h6",{style:{textDecoration:"underline"},className:"me-2 mb-0",children:"Project Points And Team Member Score:"})})}),e.jsx("hr",{className:"mb-2 mt-2"}),e.jsxs("ul",{style:{listStyle:"circle",fontStyle:"italic"},children:[e.jsxs("li",{children:["Total Project Points: ",d.project_points||0]}),e.jsxs("li",{children:["Total Point Used:"," ",n.reduce((s,t)=>s+(Number(t.points_gain)||0),0)]}),e.jsxs("li",{children:["Total Point Left:"," ",(d.project_points||0)-n.reduce((s,t)=>s+(Number(t.points_gain)||0),0)]})]}),n.map((s,t)=>{var l;return e.jsxs("div",{className:"mt-2 mb-2 d-flex flex-column",children:[e.jsx("span",{children:((l=s.user)==null?void 0:l.name)||"Unknown"}),s.points_gain&&e.jsxs("small",{className:"text-muted ms-1 border border-start-0 border-end-0 border-top-0 border-warning",children:["Current: ",s.points_gain," points"]})]},s.id||t)})]})]})})})};export{g as default};
